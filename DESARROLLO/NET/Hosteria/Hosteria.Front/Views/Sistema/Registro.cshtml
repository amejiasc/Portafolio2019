@{
    ViewBag.Title = "Registro";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}

<!-- Page content -->
<div class="page-content">
    <!-- Main content -->
    <div class="content-wrapper">
        <!-- Content area -->
        <div class="content pb-20">
            <!-- Tabbed form -->
            <div class="panel login-form width-800">

                <div class="panel-body">
                    <h3>REGISTRO DE USUARIO</h3>
                    <div class="col-lg-4">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Rut</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="col-lg-8">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Nombres y Apellidos</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="col-lg-4">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Dirección</label>
                            <input type="text" class="form-control">
                        </div>
                    </div>
                    <div class="col-lg-4">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Región</label>
                            <select class="bootstrap-select" data-width="100%" name="region" id="region">
                                <option value="">Seleccione</option>
                                @foreach (Hosteria.Clases.Region region in UtilConfig.Regiones())
                                {
                                    <option value="@region.IdRegion">@region.Nombre</option>
                                }
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-4">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Comuna</label>
                            <select class="bootstrap-select" data-width="100%" name="comuna" id="comuna" required>
                                @Html.Partial("../Utils/Comuna", new List<Hosteria.Clases.Comuna>())
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-12"></div>
                    <div class="col-lg-4">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Email</label>
                            <input type="email" class="form-control">
                        </div>
                    </div>
                    <div class="col-lg-8">

                        <div class="form-group-2 has-feedback has-feedback-left">
                            <label>Clave</label>
                            <input type="password" class="form-control">
                        </div>
                    </div>


                    <div class="col-lg-12 form-group-2 text-right" style="margin:10px 0px 0px 0px;">
                        <a class="btn btn-lg bg-grey" href="@Url.Action("Login", "Sistema")">CANCELAR</a>
                        <a class="btn bg-danger btn-lg">ACEPTAR</a>
                    </div>

                </div>
            </div>
            <!-- /tabbed form -->

        </div>
        <!-- /content area -->
    </div>
    <!-- /main content -->
</div>
<!-- /page content -->
@section Scripts {

    <script type="text/javascript">
    (function ($) {
        $(function () {
            //$("#locales").val(localSel);
            $("#region").change(function () {
                $.ajax(
                {
                    url: '@Url.Content("~/Utils/Comuna")?_region=' + $(this).val(),
                    type: 'GET',
                    data: "",
                    contentType: 'application/json; charset=utf-8',
                    success: function (data) {
                        $("#comuna").html(data);
                        if ($("#comuna").val() == null)
                        {
                            $("#comuna").val("");
                        }
                        $('.bootstrap-select').selectpicker('refresh');
                    },
                    error: function (s, e) {
                        alert('Error ' +  s.source);
                    }
                });
            });            
        });
    })(jQuery);
    </script>
}

